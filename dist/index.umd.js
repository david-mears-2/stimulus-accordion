!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@hotwired/stimulus")):"function"==typeof define&&define.amd?define(["@hotwired/stimulus"],t):(e||self).StimulusAccordion=t(e.Stimulus)}(this,function(e){return class extends e.Controller{get togglers(){return this.context.bindingObserver.bindings.filter(e=>"toggle"==e.action.methodName).map(e=>e.action.element)}connect(){this.enableTrans(!1),this.init(),setTimeout(()=>this.enableTrans(!0),200)}enableTrans(e){e?this.element.classList.add("st-accordion--disable-trans"):this.element.classList.remove("st-accordion--disable-trans")}init(){this.togglers.forEach(e=>{var t=this.findContent(e);this.isOpened(e)?this.toggleClass(e,t,!0):this.toggleClass(e,t,!1)})}toggle(e){this.togglers.forEach(t=>{t==e.target?this.isOpened(t)?this.close(t):this.open(t):this.isOpened(t)&&this.close(t)}),e.preventDefault()}open(e){var t=this.findContent(e);this.toggleClass(e,t,!0),this.dispatch("opened",{detail:{toggler:e,content:t}})}close(e){var t=this.findContent(e);this.toggleClass(e,t,!1),this.dispatch("closed",{detail:{toggler:e,content:t}})}isOpened(e){return e.matches(".st-accordion__icon--opened")}toggleClass(e,t,s){if(s?(e.classList.add("st-accordion__icon--opened"),t.classList.add("st-accordion__content--visible"),t.style.height=t.scrollHeight+"px"):(e.classList.remove("st-accordion__icon--opened"),t.classList.remove("st-accordion__content--visible"),t.style.height="0px"),s){var i=e.getAttribute("data-accordion-opened-text-param");i&&(e.innerHTML=i)}else{var n=e.getAttribute("data-accordion-closed-text-param");n&&(e.innerHTML=n)}}findContent(e){var t=e.getAttribute("href").replace(/^#/,"");return this.scope.findElement('[data-accordion-id="'+t+'"]')}}});
//# sourceMappingURL=index.umd.js.map
